<%- include('headAdm.ejs') %>
<div>
    <div class="w-full lg:ps-14">
        <div class="p-4 sm:p-6 space-y-4 sm:space-y-6">
          <!-- Grid -->
          <div class="grid sm:grid-cols-2 lg:grid-cols-4 gap-4 sm:gap-6"></div>
          <!-- End Grid -->
      
          <!-- Card -->
          <div class="flex flex-col">
            <div class="-m-1.5 overflow-x-auto">
              <div class="p-1.5 min-w-full inline-block align-middle">
                <div
                  class="bg-gray-700 border border-gray-500 rounded-xl shadow-sm overflow-hidden"
                >
                  <!-- Header -->
                  <div
                    class="px-6 py-4 grid gap-3 md:flex md:justify-between md:items-center border-b border-gray-200"
                  >
                    <div>
                      <h2 class="text-xl font-semibold text-white">
                        Detail Pengajuan
                      </h2>
                      <p class="text-sm text-white">Detail Dari Setiap pengajuan.</p>
                    </div>
                  </div>
      
                  <div id="detail-pengajuan" class="my-4 mx-64 flex flex-col justify-center items-center">
                    <h1 class="mx-4 text-3xl font-bold"> <%= pengajuan.judul %></h1>
                    <img
                      class="object-cover w-52"
                      src="/uploads/<%= pengajuan.gambar %>"
                      alt="Image Description"
                    />
                    <div class="p mt-4 mb-4 w-full">
      
                    <p class="mx-4 text-xl text-center font-medium text-black mb-2">
                    Lokasi: <%= pengajuan.namaSekolah %>, NPSN: <%= pengajuan.npsn %>
                    </p>
                  </div>
                  <div class="p mb-4 w-full">
      
                    <p class="mx-4 text-xl font-medium text-black mb-2">
                     <%= pengajuan.deskripsi %>
                    </p>
                  </div>
                  <div class="p mb-4 w-full">
      
                    <p class="mx-4 text-xl font-medium text-black mb-2">
                     Jumlah Relawan yang dibutuhkan: <%= pengajuan.kuotaRelawan %>
                    </p>
                  </div>
                  <div class="p mb-4 w-full">
      
                    <p class="mx-4 text-xl font-medium text-black mb-2">
                     Waktu Kegiatan: <%= new Date(pengajuan.mulai).toLocaleDateString() %> - <%= new Date(pengajuan.selesai).toLocaleDateString()%>
                    </p>
                  </div>
                  <div class="flex flex-row">
                  <a target="_blank"
                  href="/uploads/<%= pengajuan.dokumen %>"
                  class="py-3 mr-2 px-4 inline-flex items-center gap-x-2 text-sm font-semibold rounded-lg border border-transparent bg-gray-100 text-black hover:bg-gray-200 disabled:opacity-50 disabled:pointer-events-none  :bg-white/10  :hover:bg-white/20  :text-white  :hover:text-white">
                  Download
                  </a>
                  <button type="button" class="py-3 px-4 inline-flex items-center gap-x-2 text-sm font-semibold rounded-lg border border-transparent bg-gray-100 text-gray-500 hover:bg-gray-200 disabled:opacity-50 disabled:pointer-events-none  :bg-white/10  :hover:bg-white/20  :text-white  :hover:text-neutral-300">
                    Data Pengaju
                  </button>
                  
                  <div id="hs-slide-down-animation-modal" class="hs-overlay hidden size-full fixed top-0 start-0 z-[80] overflow-x-hidden overflow-y-auto pointer-events-none">
                    <div class="hs-overlay-open:mt-7 hs-overlay-open:opacity-100 hs-overlay-open:duration-500 mt-0 opacity-0 ease-out transition-all sm:max-w-lg sm:w-full m-3 sm:mx-auto">
                      <div class="flex flex-col bg-white border shadow-sm rounded-xl pointer-events-auto  :bg-neutral-800  :border-neutral-700  :shadow-neutral-700/70">
                        <div class="flex justify-between items-center py-3 px-4 border-b  :border-neutral-700">
                          <h3 class="font-bold text-gray-800  :text-white">
                            Data Pengaju
                          </h3>
                          <button type="button" class="flex justify-center items-center size-7 text-sm font-semibold rounded-full border border-transparent text-gray-800 hover:bg-gray-100 disabled:opacity-50 disabled:pointer-events-none  :text-white  :hover:bg-neutral-700" data-hs-overlay="#hs-slide-down-animation-modal">
                            <span class="sr-only">Close</span>
                            <svg class="flex-shrink-0 size-4" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                              <path d="M18 6 6 18"></path>
                              <path d="m6 6 12 12"></path>
                            </svg>
                          </button>
                        </div>
                        <div class="p-4 overflow-y-auto">
                          <p class="mt-1 text-gray-800  :text-neutral-400">
                            Nama: <%= pengajuan.umum.nama %> <br>
                            NIK: <%= pengajuan.umum.nik %> <br>
                            Tanggal Lahir: <%= new Date(pengajuan.umum.tanggalLahir).toLocaleDateString() %> <br>
                            Alamat: <%= pengajuan.umum.alamat %> <br>
                          </p>
                        </div>
                        <div class="flex justify-end items-center gap-x-2 py-3 px-4 border-t  :border-neutral-700">
                          <button type="button" class="py-2 px-3 inline-flex items-center gap-x-2 text-sm font-medium rounded-lg border border-gray-200 bg-white text-gray-800 shadow-sm hover:bg-gray-50 disabled:opacity-50 disabled:pointer-events-none  :bg-neutral-900  :border-neutral-700  :text-white  :hover:bg-neutral-800" data-hs-overlay="#hs-slide-down-animation-modal">
                            Close
                          </button> 
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
                </div>
                  
                  <!-- End Card -->
      
                  <!-- End Card Section -->
      
                  <!-- End Header -->
      
                  <!-- Footer -->
                  <div
                    class="px-6 py-4 grid gap-3 md:flex md:justify-between md:items-center border-t border-gray-200"
                  >
                  <div class="flex flex-row">
                    <% if (pengajuan.status === 'diterima') { %>
                      <!-- Icon -->
                      <span class="inline-flex justify-center items-center size-[46px] rounded-lg bg-yellow-400 text-white">
                        <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="size-6">
                          <path stroke-linecap="round" stroke-linejoin="round" d="M12 6v6h4.5m4.5 0a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z" />
                        </svg>                    
                      </span>
                      <!-- End Icon -->
                    <% } else { %>
                      <form action="/admin/terima-pengajuan/<%=pengajuan.idKegiatan%>" method="post">
                        <button
                        type="submit"
                        class="py-3 px-4 mr-2 inline-flex items-center gap-x-2 text-sm font-semibold rounded-lg border border-transparent bg-teal-100 text-teal-800 hover:bg-teal-200 disabled:opacity-50 disabled:pointer-events-none  :hover:bg-teal-900  :text-teal-500  :hover:text-teal-400"
                      >
                        Setujui
                      </button>
                      </form>
                      <form action="/admin/tolak-pengajuan/<%= pengajuan.idKegiatan %>" method="post">
                        <button type="submit" class="py-3 px-4 inline-flex items-center gap-x-2 text-sm font-semibold rounded-lg border border-transparent bg-red-100 text-red-800 hover:bg-red-200 disabled:opacity-50 disabled:pointer-events-none  :hover:bg-red-900  :text-red-500  :hover:text-red-400">
                          Tolak
                        </button>
                      </form>
                    <% } %>
                  </div>
      
                    <div>
                      <div class="inline-flex gap-x-2">
                        <a href= "/admin/daftar-pengajuan"
                          type="button"
                          class="py-3 px-4 inline-flex items-center gap-x-2 text-sm font-semibold rounded-lg border border-transparent bg-blue-100 text-blue-800 hover:bg-blue-200 disabled:opacity-50 disabled:pointer-events-none  :hover:bg-blue-900  :text-blue-400">
                          Kembali
                        </a>
                      </div>
                    </div>
                  </div>
                  <!-- End Footer -->
                </div>
              </div>
            </div>
          </div>
          <!-- End Card -->
        </div>
      </div>
</div>
<script src=/preline.js"></script>
</body>
</html>
